<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href="https://interactions-py.github.io/interactions.py/Guides/20%20Extensions/" rel="canonical"><link href=../10%20Events/ rel=prev><link href=../22%20Live%20Patching/ rel=next><link rel=icon href=../../images/favicon.png><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.27+insiders-4.53.11"><title>Extensions - Interactions.py</title><link rel=stylesheet href=../../assets/stylesheets/main.c0d16a3a.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel="stylesheet" href="../../assets/external/fonts.googleapis.com/css.49ea35f2.css"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/_mkdocstrings.css><link rel=stylesheet href=../../extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-K60BP9QCS7"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-K60BP9QCS7",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-K60BP9QCS7",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#extensions class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=Interactions.py class="md-header__button md-logo" aria-label=Interactions.py data-md-component=logo> <img src=../../images/logo-minified.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Interactions.py </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Extensions </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href="https://github.com/interactions-py/interactions.py" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </div> <div class=md-source__repository> interactions-py/interactions.py </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../changelog/ class=md-tabs__link> Changelog </a> </li> <li class=md-tabs__item> <a href=../../API%20Reference/API%20Reference/Client/ class=md-tabs__link> API Reference </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> Guides </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=Interactions.py class="md-nav__button md-logo" aria-label=Interactions.py data-md-component=logo> <img src=../../images/logo-minified.svg alt=logo> </a> Interactions.py </label> <div class=md-nav__source> <a href="https://github.com/interactions-py/interactions.py" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </div> <div class=md-source__repository> interactions-py/interactions.py </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../API%20Reference/API%20Reference/Client/ class=md-nav__link> <span class=md-ellipsis> API Reference </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Guides </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../01%20Getting%20Started/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../02%20Creating%20Your%20Bot/ class=md-nav__link> <span class=md-ellipsis> Creating Your Bot </span> </a> </li> <li class=md-nav__item> <a href=../03%20Creating%20Commands/ class=md-nav__link> <span class=md-ellipsis> Slash Commands </span> </a> </li> <li class=md-nav__item> <a href=../04%20Context%20Menus/ class=md-nav__link> <span class=md-ellipsis> Context Menus </span> </a> </li> <li class=md-nav__item> <a href=../05%20Components/ class=md-nav__link> <span class=md-ellipsis> Components </span> </a> </li> <li class=md-nav__item> <a href=../06%20Modals/ class=md-nav__link> <span class=md-ellipsis> Modals </span> </a> </li> <li class=md-nav__item> <a href=../08%20Converters/ class=md-nav__link> <span class=md-ellipsis> Converters </span> </a> </li> <li class=md-nav__item> <a href=../10%20Events/ class=md-nav__link> <span class=md-ellipsis> Events </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Extensions </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Extensions </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=#basic-usage class=md-nav__link> <span class=md-ellipsis> Basic Usage </span> </a> <nav class=md-nav aria-label="Basic Usage"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#setup class=md-nav__link> <span class=md-ellipsis> Setup </span> </a> </li> <li class=md-nav__item> <a href=#events-and-commands class=md-nav__link> <span class=md-ellipsis> Events and Commands </span> </a> <nav class=md-nav aria-label="Events and Commands"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#accessing-the-bot class=md-nav__link> <span class=md-ellipsis> Accessing the Bot </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#loading-the-extension class=md-nav__link> <span class=md-ellipsis> Loading the Extension </span> </a> <nav class=md-nav aria-label="Loading the Extension"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#import-style class=md-nav__link> <span class=md-ellipsis> "Import Style" </span> </a> </li> <li class=md-nav__item> <a href=#reloading-and-unloading-extensions class=md-nav__link> <span class=md-ellipsis> Reloading and Unloading Extensions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#initialization class=md-nav__link> <span class=md-ellipsis> Initialization </span> </a> <nav class=md-nav aria-label=Initialization> <ul class=md-nav__list> <li class=md-nav__item> <a href=#asynchronous-initialization class=md-nav__link> <span class=md-ellipsis> Asynchronous Initialization </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cleanup class=md-nav__link> <span class=md-ellipsis> Cleanup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced-usage class=md-nav__link> <span class=md-ellipsis> Advanced Usage </span> </a> <nav class=md-nav aria-label="Advanced Usage"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#loading-all-extensions-in-a-folder class=md-nav__link> <span class=md-ellipsis> Loading All Extensions In a Folder </span> </a> </li> <li class=md-nav__item> <a href=#the-setupteardown-function class=md-nav__link> <span class=md-ellipsis> The setup/teardown Function </span> </a> </li> <li class=md-nav__item> <a href=#passing-arguments-to-extensions class=md-nav__link> <span class=md-ellipsis> Passing Arguments to Extensions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#extension-wide-checks class=md-nav__link> <span class=md-ellipsis> Extension-Wide Checks </span> </a> <nav class=md-nav aria-label="Extension-Wide Checks"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#global-checks class=md-nav__link> <span class=md-ellipsis> Global Checks </span> </a> </li> <li class=md-nav__item> <a href=#pre-and-post-run-events class=md-nav__link> <span class=md-ellipsis> Pre And Post Run Events </span> </a> </li> <li class=md-nav__item> <a href=#extension-wide-error-handlers class=md-nav__link> <span class=md-ellipsis> Extension-Wide Error Handlers </span> </a> </li> <li class=md-nav__item> <a href=#extension-auto-defer class=md-nav__link> <span class=md-ellipsis> Extension Auto Defer </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../22%20Live%20Patching/ class=md-nav__link> <span class=md-ellipsis> Live Patching </span> </a> </li> <li class=md-nav__item> <a href=../23%20Voice/ class=md-nav__link> <span class=md-ellipsis> Voice Support </span> </a> </li> <li class=md-nav__item> <a href=../24%20Localisation/ class=md-nav__link> <span class=md-ellipsis> Localising </span> </a> </li> <li class=md-nav__item> <a href=../25%20Error%20Tracking/ class=md-nav__link> <span class=md-ellipsis> Error Tracking </span> </a> </li> <li class=md-nav__item> <a href=../26%20Prefixed%20Commands/ class=md-nav__link> <span class=md-ellipsis> Creating Prefixed Commands </span> </a> </li> <li class=md-nav__item> <a href=../30%20Pagination/ class=md-nav__link> <span class=md-ellipsis> Pagination </span> </a> </li> <li class=md-nav__item> <a href=../40%20Tasks/ class=md-nav__link> <span class=md-ellipsis> Tasks </span> </a> </li> <li class=md-nav__item> <a href=../80%20Sharding/ class=md-nav__link> <span class=md-ellipsis> Sharding </span> </a> </li> <li class=md-nav__item> <a href=../90%20Example/ class=md-nav__link> <span class=md-ellipsis> Examples </span> </a> </li> <li class=md-nav__item> <a href=../97%20Migration%20From%20D.py/ class=md-nav__link> <span class=md-ellipsis> Migrating from discord.py </span> </a> </li> <li class=md-nav__item> <a href=../98%20Migration%20from%204.X/ class=md-nav__link> <span class=md-ellipsis> Migrating from 4.X </span> </a> </li> <li class=md-nav__item> <a href=../99%202.x%20Migration_NAFF/ class=md-nav__link> <span class=md-ellipsis> Migrating from NAFF </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=#basic-usage class=md-nav__link> <span class=md-ellipsis> Basic Usage </span> </a> <nav class=md-nav aria-label="Basic Usage"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#setup class=md-nav__link> <span class=md-ellipsis> Setup </span> </a> </li> <li class=md-nav__item> <a href=#events-and-commands class=md-nav__link> <span class=md-ellipsis> Events and Commands </span> </a> <nav class=md-nav aria-label="Events and Commands"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#accessing-the-bot class=md-nav__link> <span class=md-ellipsis> Accessing the Bot </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#loading-the-extension class=md-nav__link> <span class=md-ellipsis> Loading the Extension </span> </a> <nav class=md-nav aria-label="Loading the Extension"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#import-style class=md-nav__link> <span class=md-ellipsis> "Import Style" </span> </a> </li> <li class=md-nav__item> <a href=#reloading-and-unloading-extensions class=md-nav__link> <span class=md-ellipsis> Reloading and Unloading Extensions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#initialization class=md-nav__link> <span class=md-ellipsis> Initialization </span> </a> <nav class=md-nav aria-label=Initialization> <ul class=md-nav__list> <li class=md-nav__item> <a href=#asynchronous-initialization class=md-nav__link> <span class=md-ellipsis> Asynchronous Initialization </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cleanup class=md-nav__link> <span class=md-ellipsis> Cleanup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced-usage class=md-nav__link> <span class=md-ellipsis> Advanced Usage </span> </a> <nav class=md-nav aria-label="Advanced Usage"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#loading-all-extensions-in-a-folder class=md-nav__link> <span class=md-ellipsis> Loading All Extensions In a Folder </span> </a> </li> <li class=md-nav__item> <a href=#the-setupteardown-function class=md-nav__link> <span class=md-ellipsis> The setup/teardown Function </span> </a> </li> <li class=md-nav__item> <a href=#passing-arguments-to-extensions class=md-nav__link> <span class=md-ellipsis> Passing Arguments to Extensions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#extension-wide-checks class=md-nav__link> <span class=md-ellipsis> Extension-Wide Checks </span> </a> <nav class=md-nav aria-label="Extension-Wide Checks"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#global-checks class=md-nav__link> <span class=md-ellipsis> Global Checks </span> </a> </li> <li class=md-nav__item> <a href=#pre-and-post-run-events class=md-nav__link> <span class=md-ellipsis> Pre And Post Run Events </span> </a> </li> <li class=md-nav__item> <a href=#extension-wide-error-handlers class=md-nav__link> <span class=md-ellipsis> Extension-Wide Error Handlers </span> </a> </li> <li class=md-nav__item> <a href=#extension-auto-defer class=md-nav__link> <span class=md-ellipsis> Extension Auto Defer </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href="https://github.com/interactions-py/interactions.py/edit/stable/docs/src/Guides/20 Extensions.md" title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <h1 id=extensions>Extensions<a class=headerlink href=#extensions title="Permanent link">&para;</a></h1> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Permanent link">&para;</a></h2> <p>Your code's getting pretty big and messy being in a single file, huh? Wouldn't it be nice if you could organise your commands and listeners into separate files?</p> <p>Well let me introduce you to <code>Extensions</code>!<br> Extensions allow you to split your commands and listeners into separate files to allow you to better organise your project. They also come with the additional benefit of being able to reload parts of your bot without shutting down your bot.</p> <p>For example, you can see the difference of a bot with and without extensions:</p> <details class=hint> <summary>Examples:</summary> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Without Extensions</label><label for=__tabbed_1_2>With Extensions</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kn>from</span> <span class=nn>interactions</span> <span class=kn>import</span> <span class=n>ActionRow</span><span class=p>,</span> <span class=n>Button</span><span class=p>,</span> <span class=n>ButtonStyle</span><span class=p>,</span> <span class=n>Client</span><span class=p>,</span> <span class=n>Intents</span><span class=p>,</span> <span class=n>listen</span><span class=p>,</span> <span class=n>slash_command</span>
<span class=kn>from</span> <span class=nn>interactions.api.events</span> <span class=kn>import</span> <span class=n>Component</span><span class=p>,</span> <span class=n>GuildJoin</span><span class=p>,</span> <span class=n>MessageCreate</span><span class=p>,</span> <span class=n>Startup</span>

<span class=n>bot</span> <span class=o>=</span> <span class=n>Client</span><span class=p>(</span><span class=n>intents</span><span class=o>=</span><span class=n>Intents</span><span class=o>.</span><span class=n>DEFAULT</span> <span class=o>|</span> <span class=n>Intents</span><span class=o>.</span><span class=n>MESSAGE_CONTENT</span><span class=p>)</span>


<span class=nd>@listen</span><span class=p>(</span><span class=n>Startup</span><span class=p>)</span>
<span class=k>async</span> <span class=k>def</span> <span class=nf>on_startup</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Ready - this bot is owned by </span><span class=si>{</span><span class=n>bot</span><span class=o>.</span><span class=n>owner</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>


<span class=nd>@listen</span><span class=p>(</span><span class=n>GuildJoin</span><span class=p>)</span>
<span class=k>async</span> <span class=k>def</span> <span class=nf>on_guild_join</span><span class=p>(</span><span class=n>event</span><span class=p>:</span> <span class=n>GuildJoin</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Guild joined : </span><span class=si>{</span><span class=n>event</span><span class=o>.</span><span class=n>guild</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>


<span class=nd>@listen</span><span class=p>(</span><span class=n>MessageCreate</span><span class=p>)</span>
<span class=k>async</span> <span class=k>def</span> <span class=nf>on_message_create</span><span class=p>(</span><span class=n>event</span><span class=p>:</span> <span class=n>MessageCreate</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;message received: </span><span class=si>{</span><span class=n>event</span><span class=o>.</span><span class=n>message</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>


<span class=nd>@listen</span><span class=p>()</span>
<span class=k>async</span> <span class=k>def</span> <span class=nf>on_component</span><span class=p>(</span><span class=n>event</span><span class=p>:</span> <span class=n>Component</span><span class=p>):</span>
    <span class=n>ctx</span> <span class=o>=</span> <span class=n>event</span><span class=o>.</span><span class=n>ctx</span>
    <span class=k>await</span> <span class=n>ctx</span><span class=o>.</span><span class=n>edit_origin</span><span class=p>(</span><span class=n>content</span><span class=o>=</span><span class=s2>&quot;test&quot;</span><span class=p>)</span>


<span class=nd>@slash_command</span><span class=p>()</span>
<span class=k>async</span> <span class=k>def</span> <span class=nf>multiple_buttons</span><span class=p>(</span><span class=n>ctx</span><span class=p>):</span>
    <span class=k>await</span> <span class=n>ctx</span><span class=o>.</span><span class=n>send</span><span class=p>(</span>
        <span class=s2>&quot;2 buttons in a row&quot;</span><span class=p>,</span>
        <span class=n>components</span><span class=o>=</span><span class=p>[</span>
            <span class=n>Button</span><span class=p>(</span><span class=n>style</span><span class=o>=</span><span class=n>ButtonStyle</span><span class=o>.</span><span class=n>BLURPLE</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s2>&quot;A blurple button&quot;</span><span class=p>),</span>
            <span class=n>Button</span><span class=p>(</span><span class=n>style</span><span class=o>=</span><span class=n>ButtonStyle</span><span class=o>.</span><span class=n>RED</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s2>&quot;A red button&quot;</span><span class=p>),</span>
        <span class=p>],</span>
    <span class=p>)</span>


<span class=nd>@slash_command</span><span class=p>()</span>
<span class=k>async</span> <span class=k>def</span> <span class=nf>action_rows</span><span class=p>(</span><span class=n>ctx</span><span class=p>):</span>
    <span class=k>await</span> <span class=n>ctx</span><span class=o>.</span><span class=n>send</span><span class=p>(</span>
        <span class=s2>&quot;2 buttons in 2 rows, using nested lists&quot;</span><span class=p>,</span>
        <span class=n>components</span><span class=o>=</span><span class=p>[</span>
            <span class=p>[</span><span class=n>Button</span><span class=p>(</span><span class=n>style</span><span class=o>=</span><span class=n>ButtonStyle</span><span class=o>.</span><span class=n>BLURPLE</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s2>&quot;A blurple button&quot;</span><span class=p>)],</span>
            <span class=p>[</span><span class=n>Button</span><span class=p>(</span><span class=n>style</span><span class=o>=</span><span class=n>ButtonStyle</span><span class=o>.</span><span class=n>RED</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s2>&quot;A red button&quot;</span><span class=p>)],</span>
        <span class=p>],</span>
    <span class=p>)</span>


<span class=nd>@slash_command</span><span class=p>()</span>
<span class=k>async</span> <span class=k>def</span> <span class=nf>action_rows_more</span><span class=p>(</span><span class=n>ctx</span><span class=p>):</span>
    <span class=k>await</span> <span class=n>ctx</span><span class=o>.</span><span class=n>send</span><span class=p>(</span>
        <span class=s2>&quot;2 buttons in 2 rows, using explicit action_rows lists&quot;</span><span class=p>,</span>
        <span class=n>components</span><span class=o>=</span><span class=p>[</span>
            <span class=n>ActionRow</span><span class=p>(</span><span class=n>Button</span><span class=p>(</span><span class=n>style</span><span class=o>=</span><span class=n>ButtonStyle</span><span class=o>.</span><span class=n>BLURPLE</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s2>&quot;A blurple button&quot;</span><span class=p>)),</span>
            <span class=n>ActionRow</span><span class=p>(</span><span class=n>Button</span><span class=p>(</span><span class=n>style</span><span class=o>=</span><span class=n>ButtonStyle</span><span class=o>.</span><span class=n>RED</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s2>&quot;A red button&quot;</span><span class=p>)),</span>
        <span class=p>],</span>
    <span class=p>)</span>


<span class=n>bot</span><span class=o>.</span><span class=n>start</span><span class=p>(</span><span class=s2>&quot;token&quot;</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <p><div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span></pre></div></td><td class=code><div><pre><span></span><code><span class=c1># File: `main.py`</span>
<span class=kn>from</span> <span class=nn>interactions</span> <span class=kn>import</span> <span class=n>Client</span><span class=p>,</span> <span class=n>Intents</span><span class=p>,</span> <span class=n>listen</span>
<span class=kn>from</span> <span class=nn>interactions.api.events</span> <span class=kn>import</span> <span class=n>Component</span><span class=p>,</span> <span class=n>GuildJoin</span><span class=p>,</span> <span class=n>MessageCreate</span><span class=p>,</span> <span class=n>Startup</span>

<span class=n>bot</span> <span class=o>=</span> <span class=n>Client</span><span class=p>(</span><span class=n>intents</span><span class=o>=</span><span class=n>Intents</span><span class=o>.</span><span class=n>DEFAULT</span> <span class=o>|</span> <span class=n>Intents</span><span class=o>.</span><span class=n>MESSAGE_CONTENT</span><span class=p>)</span>


<span class=nd>@listen</span><span class=p>(</span><span class=n>Startup</span><span class=p>)</span>
<span class=k>async</span> <span class=k>def</span> <span class=nf>on_startup</span><span class=p>():</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Ready - this bot is owned by </span><span class=si>{</span><span class=n>bot</span><span class=o>.</span><span class=n>owner</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>


<span class=nd>@listen</span><span class=p>(</span><span class=n>GuildJoin</span><span class=p>)</span>
<span class=k>async</span> <span class=k>def</span> <span class=nf>on_guild_join</span><span class=p>(</span><span class=n>event</span><span class=p>:</span> <span class=n>GuildJoin</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Guild joined : </span><span class=si>{</span><span class=n>event</span><span class=o>.</span><span class=n>guild</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>


<span class=nd>@listen</span><span class=p>(</span><span class=n>MessageCreate</span><span class=p>)</span>
<span class=k>async</span> <span class=k>def</span> <span class=nf>on_message_create</span><span class=p>(</span><span class=n>event</span><span class=p>:</span> <span class=n>MessageCreate</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;message received: </span><span class=si>{</span><span class=n>event</span><span class=o>.</span><span class=n>message</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>


<span class=nd>@listen</span><span class=p>()</span>
<span class=k>async</span> <span class=k>def</span> <span class=nf>on_component</span><span class=p>(</span><span class=n>event</span><span class=p>:</span> <span class=n>Component</span><span class=p>):</span>
    <span class=n>ctx</span> <span class=o>=</span> <span class=n>event</span><span class=o>.</span><span class=n>ctx</span>
    <span class=k>await</span> <span class=n>ctx</span><span class=o>.</span><span class=n>edit_origin</span><span class=p>(</span><span class=n>content</span><span class=o>=</span><span class=s2>&quot;test&quot;</span><span class=p>)</span>


<span class=n>bot</span><span class=o>.</span><span class=n>load_extension</span><span class=p>(</span><span class=s2>&quot;test_components&quot;</span><span class=p>)</span>
<span class=n>bot</span><span class=o>.</span><span class=n>start</span><span class=p>(</span><span class=s2>&quot;token&quot;</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span></pre></div></td><td class=code><div><pre><span></span><code><span class=c1># File: `test_components.py`</span>

<span class=kn>from</span> <span class=nn>interactions</span> <span class=kn>import</span> <span class=n>ActionRow</span><span class=p>,</span> <span class=n>Button</span><span class=p>,</span> <span class=n>ButtonStyle</span><span class=p>,</span> <span class=n>Extension</span><span class=p>,</span> <span class=n>slash_command</span>


<span class=k>class</span> <span class=nc>ButtonExampleSkin</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=nd>@slash_command</span><span class=p>()</span>
    <span class=k>async</span> <span class=k>def</span> <span class=nf>multiple_buttons</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ctx</span><span class=p>):</span>
        <span class=k>await</span> <span class=n>ctx</span><span class=o>.</span><span class=n>send</span><span class=p>(</span>
            <span class=s2>&quot;2 buttons in a row&quot;</span><span class=p>,</span>
            <span class=n>components</span><span class=o>=</span><span class=p>[</span>
                <span class=n>Button</span><span class=p>(</span><span class=n>style</span><span class=o>=</span><span class=n>ButtonStyle</span><span class=o>.</span><span class=n>BLURPLE</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s2>&quot;A blurple button&quot;</span><span class=p>),</span>
                <span class=n>Button</span><span class=p>(</span><span class=n>style</span><span class=o>=</span><span class=n>ButtonStyle</span><span class=o>.</span><span class=n>RED</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s2>&quot;A red button&quot;</span><span class=p>),</span>
            <span class=p>],</span>
        <span class=p>)</span>


    <span class=nd>@slash_command</span><span class=p>()</span>
    <span class=k>async</span> <span class=k>def</span> <span class=nf>action_rows</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ctx</span><span class=p>):</span>
        <span class=k>await</span> <span class=n>ctx</span><span class=o>.</span><span class=n>send</span><span class=p>(</span>
            <span class=s2>&quot;2 buttons in 2 rows, using nested lists&quot;</span><span class=p>,</span>
            <span class=n>components</span><span class=o>=</span><span class=p>[</span>
                <span class=p>[</span><span class=n>Button</span><span class=p>(</span><span class=n>style</span><span class=o>=</span><span class=n>ButtonStyle</span><span class=o>.</span><span class=n>BLURPLE</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s2>&quot;A blurple button&quot;</span><span class=p>)],</span>
                <span class=p>[</span><span class=n>Button</span><span class=p>(</span><span class=n>style</span><span class=o>=</span><span class=n>ButtonStyle</span><span class=o>.</span><span class=n>RED</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s2>&quot;A red button&quot;</span><span class=p>)],</span>
            <span class=p>],</span>
        <span class=p>)</span>


    <span class=nd>@slash_command</span><span class=p>()</span>
    <span class=k>async</span> <span class=k>def</span> <span class=nf>action_rows_more</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ctx</span><span class=p>):</span>
        <span class=k>await</span> <span class=n>ctx</span><span class=o>.</span><span class=n>send</span><span class=p>(</span>
            <span class=s2>&quot;2 buttons in 2 rows, using explicit action_rows lists&quot;</span><span class=p>,</span>
            <span class=n>components</span><span class=o>=</span><span class=p>[</span>
                <span class=n>ActionRow</span><span class=p>(</span><span class=n>Button</span><span class=p>(</span><span class=n>style</span><span class=o>=</span><span class=n>ButtonStyle</span><span class=o>.</span><span class=n>BLURPLE</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s2>&quot;A blurple button&quot;</span><span class=p>)),</span>
                <span class=n>ActionRow</span><span class=p>(</span><span class=n>Button</span><span class=p>(</span><span class=n>style</span><span class=o>=</span><span class=n>ButtonStyle</span><span class=o>.</span><span class=n>RED</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s2>&quot;A red button&quot;</span><span class=p>)),</span>
            <span class=p>],</span>
        <span class=p>)</span>
</code></pre></div></td></tr></table></div></p> </div> </div> </div> </details> <p>Sounds pretty good right? Well, let's go over how you can use them:</p> <h2 id=basic-usage>Basic Usage<a class=headerlink href=#basic-usage title="Permanent link">&para;</a></h2> <h3 id=setup>Setup<a class=headerlink href=#setup title="Permanent link">&para;</a></h3> <p>Extensions are effectively just another Python file that contains a class that inherits from an object called <code>Extension</code>, inside this extension.</p> <p>For example, this is a valid extension file:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kn>from</span> <span class=nn>interactions</span> <span class=kn>import</span> <span class=n>Extension</span>

<span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=k>pass</span>
</code></pre></div></td></tr></table></div> <details class=note> <summary>Differences from Other Python Discord Libraries</summary> <p>If you come from another Python Discord library, you might have seen that there's no <code>__init__</code> and <code>setup</code> function in this example. They still do exist as functions you <em>can</em> use (as discussed later), but interactions.py will do the appropriate logic to handle extensions without either of the two.</p> <p>For example, the following does the exact same thing as the above extension file:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kn>from</span> <span class=nn>interactions</span> <span class=kn>import</span> <span class=n>Extension</span>

<span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>bot</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>bot</span> <span class=o>=</span> <span class=n>bot</span>

<span class=k>def</span> <span class=nf>setup</span><span class=p>(</span><span class=n>bot</span><span class=p>):</span>
    <span class=c1># yes, the bot does not need to do any special logic - you just need to pass it into the extension</span>
    <span class=n>MyExtension</span><span class=p>(</span><span class=n>bot</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> <h3 id=events-and-commands>Events and Commands<a class=headerlink href=#events-and-commands title="Permanent link">&para;</a></h3> <p>You probably want extensions to do a little bit more than just exist though. Most likely, you want some events and commands in here. Thankfully, they're relatively simple to do. Expanding on the example a bit, a slash command looks like this:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kn>from</span> <span class=nn>interactions</span> <span class=kn>import</span> <span class=n>Extension</span><span class=p>,</span> <span class=n>slash_command</span><span class=p>,</span> <span class=n>SlashContext</span>

<span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=nd>@slash_command</span><span class=p>()</span>
    <span class=k>async</span> <span class=k>def</span> <span class=nf>test</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ctx</span><span class=p>:</span> <span class=n>SlashContext</span><span class=p>):</span>
        <span class=k>await</span> <span class=n>ctx</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=s2>&quot;Hello world!&quot;</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> <p>As you can see, they're almost identical to how you declare slash commands in your main bot file, even using the same decorator. The only difference is the <code>self</code> variable - this is the instance of the extension that the command is being called in, and is standard for functions inside of classes. Events follow a similar principal.</p> <p>interactions.py will automatically add all commands and events to the bot when you load the extension (discussed later), so you don't need to worry about that.</p> <h4 id=accessing-the-bot>Accessing the Bot<a class=headerlink href=#accessing-the-bot title="Permanent link">&para;</a></h4> <p>When an extension is loaded, the library automatically sets the <code>bot</code> for you. With this in mind, you can access your client using <code>self.bot</code>. Using <code>self.client</code> also works - they are just aliases to each other.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=nd>@slash_command</span><span class=p>()</span>
    <span class=k>async</span> <span class=k>def</span> <span class=nf>test</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ctx</span><span class=p>:</span> <span class=n>SlashContext</span><span class=p>):</span>
        <span class=k>await</span> <span class=n>ctx</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Hello, I&#39;m </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>bot</span><span class=o>.</span><span class=n>user</span><span class=o>.</span><span class=n>mention</span><span class=si>}</span><span class=s2>!&quot;</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> <p>This also allows you to share data between extensions and the main bot itself. <code>Client</code> allows storing data in unused attributes, so you can do something like this:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kn>from</span> <span class=nn>interactions</span> <span class=kn>import</span> <span class=n>Client</span>

<span class=c1># main.py</span>
<span class=n>bot</span> <span class=o>=</span> <span class=n>Client</span><span class=p>(</span><span class=o>...</span><span class=p>)</span>
<span class=n>bot</span><span class=o>.</span><span class=n>my_data</span> <span class=o>=</span> <span class=s2>&quot;Hello world&quot;</span>

<span class=c1># extension.py</span>
<span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=nd>@slash_command</span><span class=p>()</span>
    <span class=k>async</span> <span class=k>def</span> <span class=nf>test</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ctx</span><span class=p>:</span> <span class=n>SlashContext</span><span class=p>):</span>
        <span class=k>await</span> <span class=n>ctx</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;My data: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>bot</span><span class=o>.</span><span class=n>my_data</span><span class=si>}</span><span class=s2>!&quot;</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> <h3 id=loading-the-extension>Loading the Extension<a class=headerlink href=#loading-the-extension title="Permanent link">&para;</a></h3> <p>Now that you've got your extension, you need to load it.</p> <p>Let's pretend the extension is in a file called <code>extension.py</code>, and it looks like the command example:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kn>from</span> <span class=nn>interactions</span> <span class=kn>import</span> <span class=n>Extension</span><span class=p>,</span> <span class=n>slash_command</span><span class=p>,</span> <span class=n>SlashContext</span>

<span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=nd>@slash_command</span><span class=p>()</span>
    <span class=k>async</span> <span class=k>def</span> <span class=nf>test</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ctx</span><span class=p>:</span> <span class=n>SlashContext</span><span class=p>):</span>
        <span class=k>await</span> <span class=n>ctx</span><span class=o>.</span><span class=n>send</span><span class=p>(</span><span class=s2>&quot;Hello world!&quot;</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> <p>Now, let's say you have a file called <code>main.py</code> in the same directory that actually has the bot in it:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span class=n>bot</span> <span class=o>=</span> <span class=n>Client</span><span class=p>(</span><span class=o>...</span><span class=p>)</span>
<span class=n>bot</span><span class=o>.</span><span class=n>start</span><span class=p>(</span><span class=s2>&quot;token&quot;</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> <p>To load the extension, you just need to use <code>bot.load_extension("filename.in_import_style")</code> before <code>bot.start</code>. So, in this case, it would look like this:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=n>bot</span> <span class=o>=</span> <span class=n>Client</span><span class=p>(</span><span class=o>...</span><span class=p>)</span>
<span class=n>bot</span><span class=o>.</span><span class=n>load_extension</span><span class=p>(</span><span class=s2>&quot;extension&quot;</span><span class=p>)</span>
<span class=n>bot</span><span class=o>.</span><span class=n>start</span><span class=p>(</span><span class=s2>&quot;token&quot;</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> <p>And that's it! Your extension is now loaded and ready to go.</p> <h4 id=import-style>"Import Style"<a class=headerlink href=#import-style title="Permanent link">&para;</a></h4> <p>In the example above, the filename is passed to <code>load_extension</code> without the <code>.py</code> extension. This is because interactions.py actually does an <em>import</em> when loading the extension, so whatever string you give it needs to be a valid Python import path. This means that if you have a file structure like this:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code>main.py
exts/
    extension.py
</code></pre></div></td></tr></table></div> <p>You would need to pass <code>exts.extension</code> to <code>load_extension</code>, as that's the import path to the extension file.</p> <h4 id=reloading-and-unloading-extensions>Reloading and Unloading Extensions<a class=headerlink href=#reloading-and-unloading-extensions title="Permanent link">&para;</a></h4> <p>You can also reload and unload extensions. To do this, you use <code>bot.reload_extension</code> and <code>bot.unload_extension</code> respectively.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span class=n>bot</span><span class=o>.</span><span class=n>reload_extension</span><span class=p>(</span><span class=s2>&quot;extension&quot;</span><span class=p>)</span>
<span class=n>bot</span><span class=o>.</span><span class=n>unload_extension</span><span class=p>(</span><span class=s2>&quot;extension&quot;</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> <p>Reloading and unloading extensions allows you to edit your code without restarting the bot, and to remove extensions you no longer need. For example, if you organize your extensions so that moderation commands are in one extension, you can reload that extension (and so only moderation-related commands) as you edit them.</p> <h3 id=initialization>Initialization<a class=headerlink href=#initialization title="Permanent link">&para;</a></h3> <p>You may want to do some logic to do when loading a specific extension. For that, you can add the <code>__init__</code> method, which takes a <code>Client</code> instance, in your extension:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>bot</span><span class=p>):</span>
        <span class=c1># do some initialization here</span>
        <span class=k>pass</span>
</code></pre></div></td></tr></table></div> <h4 id=asynchronous-initialization>Asynchronous Initialization<a class=headerlink href=#asynchronous-initialization title="Permanent link">&para;</a></h4> <p>As usual, <code>__init__</code> is synchronous. This may pose problems if you're trying to do something asynchronous in it, so there are various ways of solving it.</p> <p>If you're okay with only doing the asynchronous logic as the bot is starting up (and never again), there are two methods:</p> <div class="tabbed-set tabbed-alternate" data-tabs=2:2><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1><code>async_start</code></label><label for=__tabbed_2_2><code>Startup</code> Event</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=k>async</span> <span class=k>def</span> <span class=nf>async_start</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=c1># do some initialization here</span>
        <span class=k>pass</span>
</code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kn>from</span> <span class=nn>interactions.api.events</span> <span class=kn>import</span> <span class=n>Startup</span>

<span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=nd>@event</span><span class=p>(</span><span class=n>Startup</span><span class=p>)</span>
    <span class=k>async</span> <span class=k>def</span> <span class=nf>startup</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=c1># do some initialization here</span>
        <span class=k>pass</span>
</code></pre></div></td></tr></table></div> </div> </div> </div> <p>If you want to do the asynchronous logic every time the extension is loaded, you'll need to use <code>asyncio.create_task</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kn>import</span> <span class=nn>asyncio</span>

<span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>bot</span><span class=p>):</span>
        <span class=n>asyncio</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>async_init</span><span class=p>())</span>

    <span class=k>async</span> <span class=k>def</span> <span class=nf>async_init</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=c1># do some initialization here</span>
        <span class=k>pass</span>
</code></pre></div></td></tr></table></div> <div class="admonition warning"> <p class=admonition-title>Warning about <code>asyncio.create_task</code></p> <p><code>asyncio.create_task</code> only works <em>if there is an event loop.</em> For the sake of simplicity we won't discuss what that is too much, but the loop is only created when <code>asyncio.run()</code> is called (as it is in <code>bot.start()</code>). This means that if you call <code>asyncio.create_task</code> before <code>bot.start()</code>, it will not work. If you need to do asynchronous logic before the bot starts, you'll need to load the extension in an asynchronous function and use <code>await bot.astart()</code> instead of <code>bot.start()</code>.</p> <p>For example, this format of loading extensions will allow you to use <code>asyncio.create_task</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span class=n>bot</span> <span class=o>=</span> <span class=n>Client</span><span class=p>(</span><span class=o>...</span><span class=p>)</span>

<span class=k>async</span> <span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
    <span class=c1># event loop made!</span>
    <span class=n>bot</span><span class=o>.</span><span class=n>load_extension</span><span class=p>(</span><span class=s2>&quot;extension&quot;</span><span class=p>)</span>
    <span class=k>await</span> <span class=n>bot</span><span class=o>.</span><span class=n>astart</span><span class=p>(</span><span class=s2>&quot;token&quot;</span><span class=p>)</span>

<span class=n>asyncio</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>main</span><span class=p>())</span>
</code></pre></div></td></tr></table></div> </div> <h3 id=cleanup>Cleanup<a class=headerlink href=#cleanup title="Permanent link">&para;</a></h3> <p>You may have some logic to do while unloading a specific extension. For that, you can override the <code>drop</code> method in your extension:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>drop</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=c1># do some cleanup here</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>drop</span><span class=p>()</span>  <span class=c1># important - this part actually does the unloading</span>
</code></pre></div></td></tr></table></div> <p>The <code>drop</code> method is synchronous. If you need to do something asynchronous, you can create a task with <code>asyncio</code> to do it:</p> <details class=note open=open> <summary>Note about <code>asyncio.create_task</code></summary> <p>Usually, there's always an event loop running when unloading an extension (even when the bot is shutting down), so you can use <code>asyncio.create_task</code> without any problems. However, if you are unloading an extension before <code>asyncio.run()</code> has called, the warning from above applies.</p> </details> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kn>import</span> <span class=nn>asyncio</span>

<span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>drop</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>asyncio</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>async_drop</span><span class=p>())</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>drop</span><span class=p>()</span>

    <span class=k>async</span> <span class=k>def</span> <span class=nf>async_drop</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=c1># do some cleanup here</span>
        <span class=k>pass</span>
</code></pre></div></td></tr></table></div> <h2 id=advanced-usage>Advanced Usage<a class=headerlink href=#advanced-usage title="Permanent link">&para;</a></h2> <h3 id=loading-all-extensions-in-a-folder>Loading All Extensions In a Folder<a class=headerlink href=#loading-all-extensions-in-a-folder title="Permanent link">&para;</a></h3> <p>Sometimes, you may have a lot of extensions contained in one folder. Writing them all out is both time consuming and not very scalable, so you may want an easier way to load them.</p> <p>If your folder with all of your extensions is "flat" (only containing Python files for extensions and no subfolders), then your best bet is to use <a href="https://docs.python.org/3/library/pkgutil.html#pkgutil.iter_modules"><code>pkgutil.iter_modules</code></a> and a for loop: <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kn>import</span> <span class=nn>pkgutil</span>

<span class=c1># replace &quot;exts&quot; with your folder name</span>
<span class=n>extension_names</span> <span class=o>=</span> <span class=p>[</span><span class=n>m</span><span class=o>.</span><span class=n>name</span> <span class=k>for</span> <span class=n>m</span> <span class=ow>in</span> <span class=n>pkgutil</span><span class=o>.</span><span class=n>iter_modules</span><span class=p>([</span><span class=s2>&quot;exts&quot;</span><span class=p>],</span> <span class=n>prefix</span><span class=o>=</span><span class=s2>&quot;exts.&quot;</span><span class=p>)]</span>
<span class=k>for</span> <span class=n>extension</span> <span class=ow>in</span> <span class=n>extension_names</span><span class=p>:</span>
    <span class=n>bot</span><span class=o>.</span><span class=n>load_extension</span><span class=p>(</span><span class=n>extension</span><span class=p>)</span>
</code></pre></div></td></tr></table></div></p> <p><code>iter_modules</code> finds all modules (which include Python extension files) in the directories provided. By default, this <em>just</em> returns the module/import name without the folder name, so we need to add the folder name back in through the <code>prefix</code> argument. Note how the folder passed and the prefix are basically the same thing - the prefix just has a period at the the end.</p> <p>If your folder with all of your extensions is <em>not</em> flat (for example, if you have subfolders in the extension folder containing Python files for extensions), you'll likely want to use <a href="https://docs.python.org/3/library/glob.html#glob.glob"><code>glob.glob</code></a> instead: <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kn>import</span> <span class=nn>glob</span>

<span class=c1># replace &quot;exts&quot; with your folder name</span>
<span class=n>ext_filenames</span> <span class=o>=</span> <span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s2>&quot;exts/**/*.py&quot;</span><span class=p>)</span>
<span class=n>extension_names</span> <span class=o>=</span> <span class=p>[</span><span class=n>filename</span><span class=o>.</span><span class=n>removesuffix</span><span class=p>(</span><span class=s2>&quot;.py&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;/&quot;</span><span class=p>,</span> <span class=s2>&quot;.&quot;</span><span class=p>)</span> <span class=k>for</span> <span class=n>filename</span> <span class=ow>in</span> <span class=n>ext_filenames</span><span class=p>]</span>
<span class=k>for</span> <span class=n>extension</span> <span class=ow>in</span> <span class=n>extension_names</span><span class=p>:</span>
    <span class=n>bot</span><span class=o>.</span><span class=n>load_extension</span><span class=p>(</span><span class=n>extension</span><span class=p>)</span>
</code></pre></div></td></tr></table></div></p> <p>Note that <code>glob.glob</code> returns the <em>filenames</em> of all files that match the pattern we provided. To turn it into a module/import name, we need to remove the ".py" suffix and replace the slashes with periods. On Windows, you may need to replace the slashes with backslashes instead.</p> <details class=note open=open> <summary>Note About Loading Extensions From a File</summary> <p>While these are two possible ways, they are by no means the <em>only</em> ways of finding all extensions in the folder and loading them. Which method is best method depends on your use case and is purely subjective.</p> </details> <h3 id=the-setupteardown-function>The <code>setup</code>/<code>teardown</code> Function<a class=headerlink href=#the-setupteardown-function title="Permanent link">&para;</a></h3> <p>You may have noticed that the <code>Extension</code> in the extension file is simply just a class, with no way of loading it. interactions.py is smart enough to detect <code>Extension</code> subclasses and use them when loading from a file, but if you want more customization when loading an extension, you'll need to use the <code>setup</code> function.</p> <p>The <code>setup</code> function should be <em>outside</em> of any <code>Extension</code> subclass, and takes in the bot instance, like so:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=o>...</span>

<span class=k>def</span> <span class=nf>setup</span><span class=p>(</span><span class=n>bot</span><span class=p>):</span>
    <span class=c1># insert logic here</span>
    <span class=n>MyExtension</span><span class=p>(</span><span class=n>bot</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> <p>Here, the <code>Extension</code> subclass is initialized inside the <code>setup</code> function, and does not need to do any special function to add the extension in beyond being created using the instance.</p> <p>A similar function can be used for cleanup, called <code>teardown</code>. It takes no arguments, and should be outside of any <code>Extension</code> subclass, like so:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=o>...</span>

<span class=k>def</span> <span class=nf>teardown</span><span class=p>():</span>
    <span class=c1># insert logic here</span>
    <span class=k>pass</span>
</code></pre></div></td></tr></table></div> <p>You usually do not need to worry about unloading the specific extensions themselves, as interactions.py will do that for you.</p> <h3 id=passing-arguments-to-extensions>Passing Arguments to Extensions<a class=headerlink href=#passing-arguments-to-extensions title="Permanent link">&para;</a></h3> <p>If you would like to pass more than just the bot while initializing an extension, you can pass keyword arguments to the <code>load_extension</code> method:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>bot</span><span class=p>,</span> <span class=n>some_arg</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>):</span>
        <span class=o>...</span>

<span class=n>bot</span><span class=o>.</span><span class=n>load_extension</span><span class=p>(</span><span class=s2>&quot;extension&quot;</span><span class=p>,</span> <span class=n>some_arg</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> <p>If you're using a <code>setup</code> function, the argument will be passed to that function instead, so you'll need to pass it to the <code>Extension</code> subclass yourself:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=o>...</span>

<span class=k>def</span> <span class=nf>setup</span><span class=p>(</span><span class=n>bot</span><span class=p>,</span> <span class=n>some_arg</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>):</span>
    <span class=n>MyExtension</span><span class=p>(</span><span class=n>bot</span><span class=p>,</span> <span class=n>some_arg</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> <h2 id=extension-wide-checks>Extension-Wide Checks<a class=headerlink href=#extension-wide-checks title="Permanent link">&para;</a></h2> <p>Sometimes, it is useful to have a check run before running any command in an extension. Thankfully, all you need to do is use <code>add_ext_check</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>bot</span><span class=p>:</span> <span class=n>Client</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>add_ext_check</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>a_check</span><span class=p>)</span>

    <span class=k>async</span> <span class=k>def</span> <span class=nf>a_check</span><span class=p>(</span><span class=n>ctx</span><span class=p>:</span> <span class=n>SlashContext</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=k>return</span> <span class=nb>bool</span><span class=p>(</span><span class=n>ctx</span><span class=o>.</span><span class=n>author</span><span class=o>.</span><span class=n>name</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&quot;a&quot;</span><span class=p>))</span>

    <span class=nd>@slash_command</span><span class=p>(</span><span class=o>...</span><span class=p>)</span>
    <span class=k>async</span> <span class=k>def</span> <span class=nf>my_command</span><span class=p>(</span><span class=o>...</span><span class=p>):</span>
        <span class=c1># only ran with people whose names start with an a</span>
        <span class=o>...</span>
</code></pre></div></td></tr></table></div> <h3 id=global-checks>Global Checks<a class=headerlink href=#global-checks title="Permanent link">&para;</a></h3> <p>You may want to have a check that runs on every command in a bot. If all of your commands are in extensions (a good idea), you can use a custom subclass of <code>Extension</code> to do it:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span></pre></div></td><td class=code><div><pre><span></span><code><span class=c1># file 1</span>
<span class=k>class</span> <span class=nc>CustomExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>client</span><span class=p>:</span> <span class=n>Client</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>client</span> <span class=o>=</span> <span class=n>client</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>add_ext_check</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>a_check</span><span class=p>)</span>

    <span class=k>async</span> <span class=k>def</span> <span class=nf>a_check</span><span class=p>(</span><span class=n>ctx</span><span class=p>:</span> <span class=n>InteractionContext</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=k>return</span> <span class=nb>bool</span><span class=p>(</span><span class=n>ctx</span><span class=o>.</span><span class=n>author</span><span class=o>.</span><span class=n>name</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&quot;a&quot;</span><span class=p>))</span>

<span class=c1># file 2</span>
<span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>CustomExtension</span><span class=p>):</span>
    <span class=nd>@slash_command</span><span class=p>(</span><span class=o>...</span><span class=p>)</span>
    <span class=k>async</span> <span class=k>def</span> <span class=nf>my_command</span><span class=p>(</span><span class=o>...</span><span class=p>):</span>
        <span class=o>...</span>
</code></pre></div></td></tr></table></div> <h3 id=pre-and-post-run-events>Pre And Post Run Events<a class=headerlink href=#pre-and-post-run-events title="Permanent link">&para;</a></h3> <p>Pre- and post-run events are similar to checks. They run before and after a command is invoked, respectively:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kn>from</span> <span class=nn>interactions</span> <span class=kn>import</span> <span class=n>BaseContext</span>

<span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>bot</span><span class=p>:</span> <span class=n>Client</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>add_extension_prerun</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>pre_run</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>add_extension_postrun</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>post_run</span><span class=p>)</span>

    <span class=k>async</span> <span class=k>def</span> <span class=nf>pre_run</span><span class=p>(</span><span class=n>ctx</span><span class=p>:</span> <span class=n>BaseContext</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Command started at: </span><span class=si>{</span><span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

    <span class=k>async</span> <span class=k>def</span> <span class=nf>post_run</span><span class=p>(</span><span class=n>ctx</span><span class=p>:</span> <span class=n>BaseContext</span><span class=p>):</span>
        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Command done at: </span><span class=si>{</span><span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>

    <span class=nd>@slash_command</span><span class=p>(</span><span class=o>...</span><span class=p>)</span>
    <span class=k>async</span> <span class=k>def</span> <span class=nf>my_command</span><span class=p>(</span><span class=o>...</span><span class=p>):</span>
        <span class=c1># pre and post run will be ran before/after this command</span>
        <span class=o>...</span>
</code></pre></div></td></tr></table></div> <h3 id=extension-wide-error-handlers>Extension-Wide Error Handlers<a class=headerlink href=#extension-wide-error-handlers title="Permanent link">&para;</a></h3> <p>Sometimes, you may want to have a custom error handler for all commands in an extension. You can do this by using <code>set_extension_error</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>bot</span><span class=p>:</span> <span class=n>Client</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>set_extension_error</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>error_handler</span><span class=p>)</span>

    <span class=k>async</span> <span class=k>def</span> <span class=nf>error_handler</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>error</span><span class=p>:</span> <span class=ne>Exception</span><span class=p>,</span> <span class=n>ctx</span><span class=p>:</span> <span class=n>BaseContext</span><span class=p>):</span>
        <span class=c1># handle the error here</span>
        <span class=o>...</span>
</code></pre></div></td></tr></table></div> <details class=note> <summary>Error Handling Priority</summary> <p>Only one error handler will run. Similar to CSS, the most specific handler takes precedence. This goes: command error handlers -&gt; extension -&gt; listeners.</p> </details> <h3 id=extension-auto-defer>Extension Auto Defer<a class=headerlink href=#extension-auto-defer title="Permanent link">&para;</a></h3> <p>You may want to automatically defer all commands in that extension. You can do this by using <code>add_ext_auto_defer</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span> <span class=nc>MyExtension</span><span class=p>(</span><span class=n>Extension</span><span class=p>):</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>bot</span><span class=p>:</span> <span class=n>Client</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>add_ext_auto_defer</span><span class=p>(</span><span class=n>enabled</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>ephemeral</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>time_until_defer</span><span class=o>=</span><span class=mf>0.5</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> <details class=note> <summary>Auto Defer Handling Priority</summary> <p>Similar to errors, only one auto defer will be run, and the most specific auto defer takes precendence. This goes: command auto defer -&gt; extension -&gt; bot.</p> </details> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 30, 2023</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">January 28, 2023</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35Z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c.67 0 1.32.12 1.94.33L13 9.35l-4 5 3 7M16.5 3C19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35l-1-7 4.5-5-2.65-5.08C13.87 3.47 15.17 3 16.5 3Z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! Your feedback helps us improve our documentation. </div> <div data-md-value=0 hidden> Thanks for your feedback! Please <a href="https://github.com/interactions-py/interactions.py/issues/new?assignees=LordOfPolls&amp;labels=documentation&amp;template=doc_improvement_req.yml&amp;title=docs:+Extensions&amp;page=Extensions : /Guides/20%20Extensions/">open an issue</a> so we can improve our documentation. </div> </div> </div> </fieldset> </form> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 - Present LordOfPolls  <a href=#__consent>Change cookie settings</a> </div> Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"> Material for MkDocs Insiders </a> </div> <div class=md-social> <a href="https://discord.gg/interactions" target="_blank" rel="noopener" title="Discord Server" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg> </a> <a href="https://github.com/interactions-py/interactions.py" target="_blank" rel="noopener" title="Github Repository" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["header.autohide", "navigation.instant", "navigation.top", "navigation.tabs", "search.suggest", "search.share", "navigation.indexes", "navigation.prune", "toc.follow", "content.tooltips", "content.code.annotate", "content.action.edit"], "search": "../../assets/javascripts/workers/search.1e90e0fb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.6e7f53b1.min.js></script> <script src=../../scripts/feedback.js></script> </body> </html>